{
  "name": "steam-trade",
  "version": "0.2.0",
  "dependencies": {
    "request": "*"
  },
  "readme": "# Steam trading for Node.js\n\nAllows you to automate Steam trading in Node.js.\n\n# Installation\n\n```\nnpm install git://github.com/seishun/node-steam-trade.git\n```\n\n# Usage\nInstantiate a SteamTrade object...\n\n```js\nvar SteamTrade = require('steam-trade');\nvar steamTrade = new SteamTrade();\n```\n\n...then do the following:\n\n* Set its `sessionID` property to a valid web session ID. In [node-steam](https://github.com/seishun/node-steam), you can use the `webSessionID` event to get it.\n* Call its `setCookie` method with each of your cookies. In node-steam, you can use the `webLogOn` method to get them. (Note: node-steam's `webLogOn` joins the cookies into a single string with a semicolon. You will have to split it and call `setCookie` with each separately.)\n\nDo not make multiple method calls in the same tick (e.g. `trade.addItems(items); trade.ready();`) - instead, make the second call in the callback provided to the first one (`trade.addItems(items, function(res) {trade.ready();});`). The callback will be passed the parsed JSON response from Steam (`res` in the example). You can use it for error checking: if something went wrong, `res.success` will be `false` and `res.error` should be a human-readable string. \n\n\n# Properties\n\n## themAssets\nAn array of the other party's offered items. The order of items in the array corresponds to their order in the trade window, but empty spaces are not preserved.\n\n## tradePartnerSteamID\nYour trade partner's SteamID if a trade is ongoing or was interrupted (see ['error' event](#error)), otherwise a falsy value.\n\n# Methods\n\n## open(steamID, callback)\nInitializes a trade with the specified SteamID. The trade handshake must have completed at this point - in node-steam, listen for a `sessionStarted` event. Don't use any other methods until you've opened a trade. Use `callback` if you want to add some items immediately after opening the trade.\n\n## loadInventory(appid, contextid, callback)\nLoads your library for the given app and context. For example, use 440 and 2 for TF2 and 570 and 2 for Dota2. The first argument to `callback` will be an array of item objects in case of success, otherwise a falsy value. Failure suggests that your cookie has expired (see ['error' event](#error)).\n\n## getContexts(callback)\nGets the list of available contexts. The first argument to `callback` will be an object extracted directly from the trading page in case of success, otherwise a falsy value. Failure suggests that your cookie has expired (see ['error' event](#error)).\n\n## addItems(items, [callback])\nAdds the specified items from your inventory. `items` must be an array. Create an array of a single item if you only want to add one item. If any of the items are stackable (Spiral Knights crap), it will add the whole available amount. If want to add a certain amount, modify the item's `amount` property.\n\n`callback` will be called once all the items have been added. It will be provided an array of responses - one for each added item, in the same order.\n\n## removeItem(item, [callback])\nRemoves a single item from the trade.\n\n## ready([callback])\nPresses the big blue \"ready\" button. Again, use the callback if you want to confirm as well.\n\n## unready([callback])\nUnpresses the \"ready\" button.\n\n## confirm([callback])\nPresses the big green \"Make Trade\" button. Will silently fail if either side is not ready.\n\n## cancel([callback])\nCancels the trade. Stops polling if succeeds, so no 'end' event will be emitted.\n\n\n# Events\n\n## 'error'\n* `e` - an `Error` object\n\nnode-steam-trade has received a bad response while polling, assumed that your cookie has expired, and stopped polling. A possible cause is that you logged into this account from a browser on another computer.\n\nRefresh your web session (`webLogOn` in node-steam), call `setCookie` with the new cookies, then resume polling by reopening the trade (just call `trade.open(trade.tradePartnerSteamID)` and the existing trade will continue).\n\n## 'end'\n* 'complete', 'empty' (no items on either side), 'cancelled', 'timeout' or 'failed' \n* in case of 'complete', a `getItems` function\n\nTrade is closed. If you want to get the list of received items, call `getItems` with a callback. The first argument to the callback will be an array of items in case of success, otherwise a falsy value. Failure suggests that your cookie has expired (see ['error' event](#error)).\n\n```js\ntrade.on('end', function(status, getItems) {\n  if (status == 'complete') {\n    getItems(function(items) {\n      console.log(items);\n    });\n  }\n});\n```\n\n## 'offerChanged'\n* `true` if an item was added, `false` if removed\n* the item object\n\nThe [`themAssets` property](#themassets) will be updated on the next tick.\n\n## 'ready'\nThe other side has pressed the big blue \"ready\" button.\n\n## 'unready'\nThe other side has changed their mind.\n\n## 'chatMsg'\nThey said something in the trade chat.\n",
  "readmeFilename": "README.md",
  "_id": "steam-trade@0.2.0",
  "description": "Allows you to automate Steam trading in Node.js.",
  "dist": {
    "shasum": "8e3defa5b47d92cc3c2ca114b26524344b81d1a6"
  },
  "_resolved": "git://github.com/seishun/node-steam-trade.git#a4636b2b22864d61545f058421ca43db686e5078",
  "_from": "git://github.com/seishun/node-steam-trade.git"
}
